include /components/dropdown-option/dropdown-option
include /components/button/button

mixin dropdown(props)
    -
        const { type = 'item',
                items = [], 
                title = 'гости',
                common = '',
                defaultValue = 'Сколько гостей',
                isApply = false,
                isOpen = false } = props
        let className = "iqdropdown js-iqdropdown"
        className += isOpen ? ' menu-open' : ''
    h3.iqdropdown-title= title
    div(class=className, data-dropdown-type=type)
        p.iqdropdown-selection.js-iqdropdown-selection(data-default-value=defaultValue)
        .iqdropdown-menu(data-common-form-text=common)
            each val in items
                +dropdown-option(type, val.id, val.name, val.wordForms, val.defaultCount)
            if isApply
                .iqdropdown-button.js-iqdropdown-button
                    .iqdropdown-button-clear.js-iqdropdown-button-clear.hide
                        +btn({type: 'text', title: 'очистить'})
                    .iqdropdown-button-apply.js-iqdropdown-button-apply
                        +btn({type: 'text', title: 'применить'})
